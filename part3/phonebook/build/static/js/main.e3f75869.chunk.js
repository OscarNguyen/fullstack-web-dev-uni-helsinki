(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{19:function(e,n,t){e.exports={"notification-success":"App_notification-success__7pHB8","notification-error":"App_notification-error__3EtiD"}},25:function(e,n,t){},46:function(e,n,t){"use strict";t.r(n);var r=t(1),c=t.n(r),a=t(18),o=t.n(a),i=(t(25),t(20)),u=t(2),s=t.n(u),f=t(4),p=t(5),b=t(0),j=function(e){return Object(b.jsxs)("div",{children:["filter shown with ",Object(b.jsx)("input",{type:"text",value:e.value,onChange:e.onChangeHandler})]})},h=function(e){return Object(b.jsxs)("form",{onSubmit:e.onSubmit,children:[Object(b.jsxs)("div",{children:[Object(b.jsxs)("p",{children:["name: ",Object(b.jsx)("input",{type:"text",value:e.name,onChange:e.onChangeNameHandler})]}),Object(b.jsxs)("p",{children:["phone: ",Object(b.jsx)("input",{type:"text",value:e.phone,onChange:e.onChangePhoneHandler})]})]}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{type:"submit",children:"add"})})]})},d=function(e){return Object(b.jsx)("ul",{children:e.personList.map((function(n){return Object(b.jsxs)("li",{children:[n.name," ",n.phone,Object(b.jsx)("button",{onClick:function(){return e.onDelete(n.id,n.name)},style:{marginLeft:8},children:"Delete"})]},n.name)}))})},l=t(6),x=t.n(l),O="/api/persons",m=function(){var e=Object(f.a)(s.a.mark((function e(){var n,t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=x.a.get(O),e.next=3,n;case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(f.a)(s.a.mark((function e(n){var t,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=x.a.post(O,n),e.next=3,t;case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),w=function(e){return x.a.delete("".concat(O,"/").concat(e))},g=function(){var e=Object(f.a)(s.a.mark((function e(n,t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=2;break}return e.abrupt("return",x.a.put("".concat(O,"/").concat(n),t));case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),k=t(19),y=t.n(k),C=function(){var e=Object(r.useState)([]),n=Object(p.a)(e,2),t=n[0],c=n[1],a=Object(r.useState)(""),o=Object(p.a)(a,2),u=o[0],l=o[1],x=Object(r.useState)(""),O=Object(p.a)(x,2),k=O[0],C=O[1],S=Object(r.useState)(""),H=Object(p.a)(S,2),D=H[0],_=H[1],L=Object(r.useState)(""),A=Object(p.a)(L,2),N=A[0],E=A[1],P=Object(r.useState)(""),B=Object(p.a)(P,2),I=B[0],J=B[1],T=function(){var e=Object(f.a)(s.a.mark((function e(n,r){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=window.confirm("Delete ".concat(r," ?")),console.log(n),!a){e.next=8;break}return e.next=5,w(n);case 5:c(t.filter((function(e){return e.id!==n}))),e.next=9;break;case 8:return e.abrupt("return");case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),M=function(){var e=Object(f.a)(s.a.mark((function e(n){var r,a,o,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r=!!t.find((function(e){return e.name===D})),a={name:D,phone:N},r){e.next=16;break}return e.next=6,v(a);case 6:o=e.sent,console.log(o),c((function(e){return[].concat(Object(i.a)(e),[o])})),_(""),E(""),l("Added ".concat(D)),C("notification-success"),setTimeout((function(){l("")}),5e3),e.next=18;break;case 16:window.confirm("".concat(D," is already added to the phonebook, replace old number with the new one?"))&&(u=t.find((function(e){return e.name===D})).id,g(u,a).then((function(){c(t.map((function(e){return e.id!==u?e:a}))),l("Updated ".concat(D)),C("notification-success")})).catch((function(e){l("Information of ".concat(D," has been removed from the server")),C("notification-error")})),setTimeout((function(){l("")}),5e3));case 18:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),U=I?t.filter((function(e){return e.name.toLowerCase().includes(I.toLowerCase())})):t;return Object(r.useEffect)((function(){(function(){var e=Object(f.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:n=e.sent,c(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log(t),Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{children:"Phonebook"}),0!==u.length&&Object(b.jsx)("p",{className:y.a[k],children:u}),Object(b.jsx)(j,{value:I,onChangeHandler:function(e){J(e.target.value)}}),Object(b.jsx)("h3",{children:"Add a new"}),Object(b.jsx)(h,{name:D,onChangeNameHandler:function(e){_(e.target.value)},onChangePhoneHandler:function(e){E(e.target.value)},phone:N,onSubmit:M}),Object(b.jsx)("h3",{children:"Numbers"}),Object(b.jsx)(d,{onDelete:T,personList:U})]})};o.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(C,{})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.e3f75869.chunk.js.map